<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LA CASA DAS BET - Surebets Profissionais</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: #fff; min-height: 100vh; }
        .header { background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%); padding: 20px 0; box-shadow: 0 4px 20px rgba(196, 30, 58, 0.3); }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px; }
        .logo { font-size: 2.5em; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .status-indicator { display: flex; align-items: center; gap: 10px; font-size: 0.9em; }
        .status-dot { width: 12px; height: 12px; border-radius: 50%; background: #28a745; animation: pulse 2s infinite; }
        .status-dot.disconnected { background: #dc3545; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        .settings-btn { background: rgba(255,255,255,0.2); border: none; color: white; padding: 12px; border-radius: 50%; cursor: pointer; font-size: 1.5em; transition: all 0.3s ease; backdrop-filter: blur(10px); }
        .settings-btn:hover { background: rgba(255,255,255,0.3); transform: rotate(90deg); }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .tab-container { display: flex; gap: 10px; margin-bottom: 30px; }
        .tab-btn { padding: 12px 24px; background: rgba(255,255,255,0.1); border: none; color: white; border-radius: 8px; cursor: pointer; transition: all 0.3s ease; font-size: 1em; font-weight: 500; }
        .tab-btn.active { background: #c41e3a; box-shadow: 0 4px 15px rgba(196, 30, 58, 0.4); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .surebets-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-top: 20px; }
        .surebet-card { background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%); border-radius: 20px; padding: 0; box-shadow: 0 8px 25px rgba(0,0,0,0.3); transition: all 0.3s ease; overflow: hidden; position: relative; }
        .surebet-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0,0,0,0.4); }
        .surebet-card.new-item { animation: slideIn 0.5s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .card-header { background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%); padding: 20px; position: relative; }
        .match-title { font-size: 1.4em; font-weight: bold; color: #000; margin-bottom: 10px; }
        .match-datetime { font-size: 1.1em; color: #000; margin-bottom: 15px; font-weight: 500; }
        .sport-category { font-size: 1.1em; color: #000; font-weight: 500; }
        .profit-badge { position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.2); padding: 8px 12px; border-radius: 12px; text-align: center; backdrop-filter: blur(10px); }
        .profit-label { font-size: 0.9em; color: #000; margin-bottom: 2px; }
        .profit-value { font-size: 1.2em; font-weight: bold; color: #000; }
        .calc-icon { position: absolute; top: 15px; right: 80px; font-size: 1.5em; color: #000; }
        .card-body { background: #fff; padding: 20px; color: #000; }
        .bet-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #eee; }
        .bet-row:last-child { border-bottom: none; }
        .house-name { font-size: 1.1em; font-weight: bold; color: #000; min-width: 120px; }
        .bet-description { flex: 1; text-align: center; font-size: 1em; color: #333; margin: 0 15px; }
        .odd-value { font-size: 1.2em; font-weight: bold; color: #000; min-width: 80px; text-align: right; }
        .sport-footer { text-align: center; padding: 15px; background: #f8f9fa; font-size: 1.1em; color: #666; font-weight: 500; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; backdrop-filter: blur(5px); }
        .modal-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%); padding: 30px; border-radius: 15px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 2px solid #c41e3a; min-width: 400px; }
        .password-input { width: 100%; padding: 15px; margin: 15px 0; border: 2px solid #c41e3a; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; font-size: 1.1em; text-align: center; }
        .btn { padding: 12px 24px; background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%); border: none; color: white; border-radius: 8px; cursor: pointer; font-size: 1em; font-weight: 500; transition: all 0.3s ease; margin: 5px; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(196, 30, 58, 0.4); }
        .btn-danger { background: linear-gradient(135deg, #dc3545 0%, #c82333 100%); }
        .admin-panel { display: none; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 20px; border-radius: 15px; margin-bottom: 20px; border: 2px solid #c41e3a; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; color: #c41e3a; font-weight: bold; }
        .form-group input, .form-group select { width: 100%; padding: 12px; border: 2px solid #c41e3a; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; font-size: 1em; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-row-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; }
        .calculator { background: linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%); padding: 20px; border-radius: 15px; border: 2px solid #c41e3a; }
        .calc-result { background: rgba(0, 200, 81, 0.2); padding: 15px; border-radius: 10px; margin-top: 15px; text-align: center; border: 1px solid #00c851; }
        .empty-state { text-align: center; padding: 60px 20px; color: #666; }
        .empty-state h3 { font-size: 1.5em; margin-bottom: 10px; }
        .close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; color: #c41e3a; font-size: 1.5em; cursor: pointer; }
        .remove-btn { position: absolute; top: 10px; right: 10px; background: #dc3545; border: none; color: white; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-size: 0.9em; font-weight: bold; transition: all 0.3s ease; z-index: 10; display: none; }
        .remove-btn:hover { background: #c82333; transform: scale(1.05); }
        .admin-mode .remove-btn { display: block; }
        .notification { position: fixed; top: 20px; right: 20px; background: #28a745; color: white; padding: 15px 20px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 1001; transform: translateX(100%); transition: transform 0.3s ease; }
        .notification.show { transform: translateX(0); }
        .notification.error { background: #dc3545; }
        @media (max-width: 768px) {
            .header-content { flex-direction: column; gap: 10px; }
            .logo { font-size: 2em; }
            .surebets-grid { grid-template-columns: 1fr; }
            .form-row, .form-row-3 { grid-template-columns: 1fr; }
            .bet-row { flex-direction: column; gap: 10px; text-align: center; }
            .profit-badge { position: relative; top: 0; right: 0; margin-top: 10px; }
            .calc-icon { display: none; }
        }
    </style>

<!-- Firebase App (the core Firebase SDK) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyArY5MJpAlRnQhWV3TYrsh9LYH9Sw2nAeo",
    authDomain: "surebet-4916a.firebaseapp.com",
    databaseURL: "https://surebet-4916a-default-rtdb.firebaseio.com",
    projectId: "surebet-4916a",
    storageBucket: "surebet-4916a.firebasestorage.app",
    messagingSenderId: "975170682118",
    appId: "1:975170682118:web:1a551a221f1436bd8f3287",
    measurementId: "G-VQR0H34N9Q"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>

</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">üé≠ LA CASA DAS BET</div>
            <div class="status-indicator">
                <div class="status-dot" id="status-dot"></div>
                <span id="status-text">Conectando...</span>
            </div>
            <button class="settings-btn" onclick="openPasswordModal()">‚öôÔ∏è</button>
        </div>
    </div>

    <div class="container">
        <div class="tab-container">
            <button class="tab-btn active" onclick="showTab('surebets')">üìä Surebets</button>
            <button class="tab-btn" onclick="showTab('calculator')">üßÆ Calculadora</button>
        </div>

        <div id="admin-panel" class="admin-panel">
            <h3>üîê Painel Administrativo</h3>
            <form id="surebet-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Jogo:</label>
                        <input type="text" id="match" placeholder="Ex: Spain (W) - Portugal (W)" required>
                    </div>
                    <div class="form-group">
                        <label>Data/Hora:</label>
                        <input type="datetime-local" id="datetime" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Esporte:</label>
                        <input type="text" id="sport" placeholder="Ex: Futebol" required>
                    </div>
                    <div class="form-group">
                        <label>Lucro (%):</label>
                        <input type="number" step="0.01" id="profit" placeholder="Ex: 1.68" required>
                    </div>
                </div>
                <div class="form-row-3">
                    <div class="form-group">
                        <label>Casa 1:</label>
                        <input type="text" id="house1" placeholder="Ex: BET 7K" required>
                    </div>
                    <div class="form-group">
                        <label>Mercado 1:</label>
                        <input type="text" id="market1" placeholder="Ex: Acima 0.5 - escanteios 1¬∫ per√≠odo 2¬∫ tempo" required>
                    </div>
                    <div class="form-group">
                        <label>Odd 1:</label>
                        <input type="number" step="0.01" id="odd1" placeholder="Ex: 1.83" required>
                    </div>
                </div>
                <div class="form-row-3">
                    <div class="form-group">
                        <label>Casa 2:</label>
                        <input type="text" id="house2" placeholder="Ex: Esportingbet" required>
                    </div>
                    <div class="form-group">
                        <label>Mercado 2:</label>
                        <input type="text" id="market2" placeholder="Ex: Abaixo 0.5 - escanteios 1¬∫ per√≠odo 2¬∫ tempo" required>
                    </div>
                    <div class="form-group">
                        <label>Odd 2:</label>
                        <input type="number" step="0.01" id="odd2" placeholder="Ex: 2.30" required>
                    </div>
                </div>
                <button type="submit" class="btn">‚ûï Adicionar Surebet</button>
                <button type="button" class="btn btn-danger" onclick="hideAdminPanel()">‚ùå Fechar Painel</button>
            </form>
        </div>

        <div id="surebets-tab" class="tab-content active">
            <h2>üéØ Surebets Dispon√≠veis</h2>
            <div id="surebets-container" class="surebets-grid">
                <div class="empty-state">
                    <h3>üé∞ Nenhuma Surebet Dispon√≠vel</h3>
                    <p>As melhores oportunidades aparecer√£o aqui!</p>
                </div>
            </div>
        </div>

        <div id="calculator-tab" class="tab-content">
            <h2>üßÆ Calculadora de Surebet</h2>
            <div class="calculator">
                <div class="form-row">
                    <div class="form-group">
                        <label>Odd 1:</label>
                        <input type="number" step="0.01" id="calc-odd1" placeholder="Ex: 2.50">
                    </div>
                    <div class="form-group">
                        <label>Odd 2:</label>
                        <input type="number" step="0.01" id="calc-odd2" placeholder="Ex: 1.80">
                    </div>
                </div>
                <div class="form-group">
                    <label>Valor Total a Apostar (R$):</label>
                    <input type="number" step="0.01" id="calc-total" placeholder="Ex: 1000">
                </div>
                <button type="button" class="btn" onclick="calculateSurebet()">üî¢ Calcular</button>
                <div id="calc-result" class="calc-result" style="display: none;">
                    <h3>üìä Resultado da Calculadora</h3>
                    <div id="calc-output"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="password-modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closePasswordModal()">√ó</button>
            <h3>üîê Acesso Administrativo</h3>
            <p>Digite a senha para acessar o painel:</p>
            <input type="password" id="password-input" class="password-input" placeholder="Digite a senha...">
            <button class="btn" onclick="checkPassword()">üîì Entrar</button>
        </div>
    </div>

    <div id="notification" class="notification">
        <span id="notification-text"></span>
    </div>

    <script>
        let surebets = {}, isAdminMode = false, isConnected = false;
        
        setTimeout(() => updateConnectionStatus(true), 2000);

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            notificationText.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            setTimeout(() => notification.classList.remove('show'), 3000);
        }

        function updateConnectionStatus(connected) {
            isConnected = connected;
            const statusDot = document.getElementById('status-dot');
            const statusText = document.getElementById('status-text');
            if (connected) {
                statusDot.classList.remove('disconnected');
                statusText.textContent = 'Online';
                showNotification('‚úÖ Conectado com sucesso!');
            } else {
                statusDot.classList.add('disconnected');
                statusText.textContent = 'Desconectado';
            }
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        function openPasswordModal() {
            document.getElementById('password-modal').style.display = 'block';
            document.getElementById('password-input').focus();
        }

        function closePasswordModal() {
            document.getElementById('password-modal').style.display = 'none';
            document.getElementById('password-input').value = '';
        }

        function checkPassword() {
            const password = document.getElementById('password-input').value;
            if (password === '37511158') {
                closePasswordModal();
                showAdminPanel();
                showNotification('üîì Acesso administrativo liberado!');
            } else {
                showNotification('‚ùå Senha incorreta!', 'error');
                document.getElementById('password-input').value = '';
            }
        }

        function showAdminPanel() {
            isAdminMode = true;
            document.getElementById('admin-panel').style.display = 'block';
            document.getElementById('admin-panel').scrollIntoView({ behavior: 'smooth' });
            document.body.classList.add('admin-mode');
            renderSurebets();
        }

        function hideAdminPanel() {
            isAdminMode = false;
            document.getElementById('admin-panel').style.display = 'none';
            document.body.classList.remove('admin-mode');
            renderSurebets();
        }

        function renderSurebets() {
            const container = document.getElementById('surebets-container');
            const surebetsArray = Object.entries(surebets);
            
            if (surebetsArray.length === 0) {
                container.innerHTML = '<div class="empty-state"><h3>üé∞ Nenhuma Surebet Dispon√≠vel</h3><p>As melhores oportunidades aparecer√£o aqui!</p></div>';
                return;
            }

            container.innerHTML = surebetsArray.map(([key, surebet]) => `
                <div class="surebet-card new-item">
                    <button class="remove-btn" onclick="removeSurebet('${key}')">üóëÔ∏è Apagar</button>
                    <div class="card-header">
                        <div class="calc-icon">üßÆ</div>
                        <div class="profit-badge">
                            <div class="profit-label">Lucro de</div>
                            <div class="profit-value">${surebet.profit}%</div>
                        </div>
                        <div class="match-title">${surebet.match}</div>
                        <div class="match-datetime">${formatDateTime(surebet.datetime)}</div>
                        <div class="sport-category">${surebet.sport}</div>
                    </div>
                    <div class="card-body">
                        <div class="bet-row">
                            <div class="house-name">${surebet.house1}</div>
                            <div class="bet-description">${surebet.market1}</div>
                            <div class="odd-value">${surebet.odd1} (odd)</div>
                        </div>
                        <div class="bet-row">
                            <div class="house-name">${surebet.house2}</div>
                            <div class="bet-description">${surebet.market2}</div>
                            <div class="odd-value">${surebet.odd2} (odd)</div>
                        </div>
                    </div>
                    <div class="sport-footer">${surebet.sport}</div>
                </div>
            `).join('');
        }

        function formatDateTime(datetime) {
            return new Date(datetime).toLocaleString('pt-BR', {
                day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit'
            });
        }

        function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function addSurebet(event) {
            event.preventDefault();
            if (!isConnected) {
                showNotification('‚ùå Sem conex√£o com o servidor!', 'error');
                return;
            }

            const surebet = {
                match: document.getElementById('match').value,
                datetime: document.getElementById('datetime').value,
                sport: document.getElementById('sport').value,
                house1: document.getElementById('house1').value,
                market1: document.getElementById('market1').value,
                odd1: parseFloat(document.getElementById('odd1').value),
                house2: document.getElementById('house2').value,
                market2: document.getElementById('market2').value,
                odd2: parseFloat(document.getElementById('odd2').value),
                profit: parseFloat(document.getElementById('profit').value),
                timestamp: Date.now()
            };

            surebets[generateId()] = surebet;
            document.getElementById('surebet-form').reset();
            renderSurebets();
            showNotification('‚úÖ Surebet adicionada com sucesso!');
        }

        function removeSurebet(key) {
            if (!isConnected) {
                showNotification('‚ùå Sem conex√£o com o servidor!', 'error');
                return;
            }
            if (confirm('‚ùì Tem certeza que deseja remover esta surebet?')) {
                delete surebets[key];
                renderSurebets();
                showNotification('üóëÔ∏è Surebet removida com sucesso!');
            }
        }

        function calculateSurebet() {
            const odd1 = parseFloat(document.getElementById('calc-odd1').value);
            const odd2 = parseFloat(document.getElementById('calc-odd2').value);
            const total = parseFloat(document.getElementById('calc-total').value);

            if (!odd1 || !odd2 || !total) {
                showNotification('‚ùå Preencha todos os campos!', 'error');
                return;
            }

            const impliedProb1 = 1 / odd1;
            const impliedProb2 = 1 / odd2;
            const totalProb = impliedProb1 + impliedProb2;

            if (totalProb >= 1) {
                showNotification('‚ùå Essas odds n√£o formam uma surebet!', 'error');
                return;
            }

            const stake1 = (total * impliedProb1) / totalProb;
            const stake2 = (total * impliedProb2) / totalProb;
            const profit = total - (stake1 + stake2);
            const profitPercentage = (profit / total) * 100;

            const resultDiv = document.getElementById('calc-result');
            const outputDiv = document.getElementById('calc-output');
            
            outputDiv.innerHTML = `
                <p><strong>üí∞ Aposta 1:</strong> R$ ${stake1.toFixed(2)} (Odd: ${odd1})</p>
                <p><strong>üí∞ Aposta 2:</strong> R$ ${stake2.toFixed(2)} (Odd: ${odd2})</p>
                <p><strong>üìà Lucro Garantido:</strong> R$ ${profit.toFixed(2)} (${profitPercentage.toFixed(2)}%)</p>
                <p><strong>üéØ Retorno Total:</strong> R$ ${total.toFixed(2)}</p>
            `;
            
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }

        document.getElementById('surebet-form').addEventListener('submit', addSurebet);
        document.getElementById('password-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkPassword();
        });
        document.getElementById('password-modal').addEventListener('click', function(e) {
            if (e.target === this) closePasswordModal();
        });

        renderSurebets();
    </script>

<script>
  const surebetRef = db.ref("surebets");

  // Adicionar uma nova surebet no Firebase
  function addSurebet(event) {
    event.preventDefault();
    if (!isConnected) {
        showNotification('‚ùå Sem conex√£o com o servidor!', 'error');
        return;
    }

    const surebet = {
        match: document.getElementById('match').value,
        datetime: document.getElementById('datetime').value,
        sport: document.getElementById('sport').value,
        house1: document.getElementById('house1').value,
        market1: document.getElementById('market1').value,
        odd1: parseFloat(document.getElementById('odd1').value),
        house2: document.getElementById('house2').value,
        market2: document.getElementById('market2').value,
        odd2: parseFloat(document.getElementById('odd2').value),
        profit: parseFloat(document.getElementById('profit').value),
        timestamp: Date.now()
    };

    const newKey = surebetRef.push().key;
    surebetRef.child(newKey).set(surebet, (error) => {
        if (!error) {
            document.getElementById('surebet-form').reset();
            showNotification('‚úÖ Surebet adicionada com sucesso!');
        } else {
            showNotification('‚ùå Erro ao salvar!', 'error');
        }
    });
  }

  // Remover surebet do Firebase
  function removeSurebet(key) {
    if (!isConnected) {
        showNotification('‚ùå Sem conex√£o com o servidor!', 'error');
        return;
    }
    if (confirm('‚ùì Tem certeza que deseja remover esta surebet?')) {
        surebetRef.child(key).remove();
        showNotification('üóëÔ∏è Surebet removida com sucesso!');
    }
  }

  // Atualizar em tempo real
  surebetRef.on("value", (snapshot) => {
    const data = snapshot.val() || {};
    surebets = data;
    renderSurebets();
  });
</script>

</body>
  </html>
